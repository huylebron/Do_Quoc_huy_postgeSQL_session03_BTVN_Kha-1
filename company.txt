create schema if not exists company;

create table company.department
(
    department_id  int primary key,
    deparment_name varchar(100) not null unique
);

create table company.employees
(
    emp_id        int primary key,
    name          varchar(100) not null,
    dob           date         not null check ( dob <= current_date ) check ( dob <= current_date - interval '5 year'),
    department_id int          not null references company.department (department_id)
);

create table company.projects
(
    project_id   int primary key,
    froject_name varchar(100) not null unique,
    start_date   date         not null,
    end_date     date
        constraint project_dates_check check ( end_date is null or end_date >= start_date )

);

create table company.employees_projects
(
    emp_id     int not null references company.employees (emp_id),
    project_id int not null references company.projects (project_id),
    primary key (emp_id, project_id)
);

